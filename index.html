// ... (Keep your PeerJS setup code) ...

        // NEW: Test Function to bypass the error
        function playTestVideo() {
            // This is a sample MP4 link
            videoElement.src = "https://vjs.zencdn.net/v/oceans.mp4";
            videoElement.play();
            alert("Playing test video on the floating screen!");
        }

        // UPDATED: Improved Share Screen function with error catch
        async function startBroadcasting() {
            try {
                const stream = await navigator.mediaDevices.getDisplayMedia({ video: true });
                const targetId = document.getElementById('target-id').value;
                peer.call(targetId, stream);
            } catch (err) {
                alert("Screen share still blocked. Try 'Desktop Site' mode or use the Test Video button.");
                console.error(err);
            }
        }
